---
title: "Black Bear Aware Main Model Code"
author: "Mia Guarnieri, Claire Meuter, Sam Rozal, Chase Tarr"
date: '2022-09-05'
output: html_document
---

##Setup and packages

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
#attach packages



library(tidyverse)
library(here)
library(terra)
library(sf)
library(tmap)

#mia and claire's and Chase's file path 
#gdrive_data <- "/Volumes/GoogleDrive/Shared drives/Black_Bear_Aware/gdrive_data"

#sam's file path
gdrive_data <- "G:/Shared drives/Black_Bear_Aware/gdrive_data"

#chase's file path

```

#Data Wrangling Prior to Coding

*Data Sources*: Please see ReadMe file for metadata and citations.
*Reference Paper*: Insert hagani citation here

#Load in existing data layers



##Road density

```{r}
road_density_2014 <- rast(here(gdrive_data,"/InputData/InputData_Files/2014_UsaRoadDensity_ESRI/2014_UsaRoadDensity_ESRI.tif"))
```

##Forest density (canopy cover)

```{r}
#data from two years, 2011 and 2016

forest_dens_2011 <- rast(here(gdrive_data,"/InputData/InputData_Files/TreeCanopyCover_NLCD/2011_TreeCanopyCover_NLCD/2011_TreeCanopyCover_NLCD.img"))

forest_dens_2016 <- rast(here(gdrive_data,"/InputData/InputData_Files/TreeCanopyCover_NLCD/2016_TreeCanopyCover_NLCD/2016_TreeCanopyCover_NLCD.img"))

```



#Adjust the data to the same geographic extent and projection

##Elevation
```{r}
#reproject to the same crs (NAD 83, CA Albers (2011))
dem_calbers <- project(dem_ca, ca_raster)

#cropping to the spatial extent of CA
dem_mask <- mask(dem_calbers, ca_raster)

```


##Road density

```{r}
#reproject to the correct CRS

road_density_2014_calbers <- project(road_density_2014, ca_raster)

#cropping the files to the spatial extent of CA
road_density_2014_mask <- mask(road_density_2014_calbers, ca_raster)

```

#Distance to Roads
```{r}
roads_2015 <- vect(here(gdrive_data, "/InputData/InputData_Files/2015_roads_TIGER/tl_2015_06_prisecroads.shp"))

roads_2015_calbers <- project(roads_2015, ca_raster)
```


##Forest density (canopy cover)

```{r}
#reproject to the correct CRS

forest_dens_2011_calbers <- project(forest_dens_2011, ca_raster)

forest_dens_2016_calbers <- project(forest_dens_2016, ca_raster)


#cropping the files to the spatial extent of CA
forest_dens_2011_mask <- mask(forest_dens_2011_calbers, ca_raster)
forest_dens_2016_mask <- mask(forest_dens_2016_calbers, ca_raster)
#code check

```


